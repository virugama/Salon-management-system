{% extends 'main1.html' %}
{% block title %} Product Dashboard{% endblock title %}
{% load static %}
{% block head %}
{% endblock head %}
{% block body %}

 <div class="content-wrap">

    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/admin/product/manageprod/">ManageProduct</a></li>
            <li class="breadcrumb-item active" aria-current="page">EditProduct</li>
        </ol>
    </nav>
    <div class="main">

        <div class="content-wrap">


            <div class="container-fluid">

                <!-- <div class="row"> -->
                    <div class="col-lg-8 p-r-0 title-margin-right">
                        <div class="page-header">
                            <div class="page-title-">
                                <h1>Edit Product<span></span></h1>
                            </div>
                        </div><br>
                        
                             {% for message in messages %}
                        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                            <strong>Message : </strong> {{ message }}
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        {% endfor %}
                       
                    
                                    <form action="/admin/product/update/{{product.pid}}/" method="POST" enctype="multipart/form-data" class="needs-validation" novalidate>{% csrf_token %}
                                            <div class="form-group" >
                                                <label >Product Name</label>
                                                <input type="text" value="{{product.pname}}" class="form-control " name="pname" required>
                                                <div class="invalid-feedback">
                                                Please Enter product name!
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="exampleFormControlPrice">Price</label>
                                                <input type="text" value="{{product.pprice}}" class="form-control" name="pprice" required>
                                               <div class="invalid-feedback">
                                                Please Enter product price in number!
                                                </div>
                                            </div>
                                              <div class="form-group">
                                                <label for="exampleFormControlTextarea1">Discription</label>
                                                <textarea class="form-control" id="pinfo" rows="3" name="pdesc" required>{{product.pdesc}}</textarea>
                                           <div class="invalid-feedback">
                                                Please Enter product description!
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="exampleFormControlTextarea1">Information</label>
                                                <textarea class="form-control" id="pinfo" rows="3" name="pinfo" required>{{product.pinfo}}</textarea>
                                             <div class="invalid-feedback">
                                                Please Enter product  Information!
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label>Stock</label>
                                                <input type="text" class="form-control" name="pstock" value="{{product.pstock}}"  
                                                disabled required>
                                                <div class="invalid-feedback">
                                                Please Enter product Stock in number!
                                                </div>
                                            </div>
                                        
                                            <div class="form-group ">
                                            <label for="Imgae">current</label>
                                            <img src="/media/{{product.pimg}}" alt="{{product.pimg}}" width="100" height="100" required> {{product.pimg}}
                                              <br><br>
                                                <label for="Imgae">ChangeImage</label>
                                             
                                                <input type="file" class="form-control-file" id="pimg" name="pimg"  value="{{product.pimg}}" />  
                                             </div> 
                                  
                                            <button type="submit" class="btn btn-primary" >Save</button>
                                    </form>


                                  
                       
                       
                    </div>
                </div>
             </div>
        </div><!-- content warp -->
    </div><!-- main -->

</div><!-- content warp -->
    <script>
    
       (function() {
  'use strict';
  window.addEventListener('load', function() {
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.getElementsByClassName('needs-validation');
    // Loop over them and prevent submission
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
    </script>         

{% endblock body %}